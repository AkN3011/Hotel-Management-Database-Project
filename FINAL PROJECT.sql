-- DELETE "D" IN CRUD BY USING THE COMMANDS BELOW THE TABLES ARE DROPPED.
DROP TABLE CUSTOMER CASCADE CONSTRAINTS;
DROP TABLE CREDITCARD CASCADE CONSTRAINTS;
DROP TABLE FEED_BACK CASCADE CONSTRAINTS;
DROP TABLE MEMBER_LEVEL_TIER CASCADE CONSTRAINTS;
DROP TABLE REWARD_MEMBER CASCADE CONSTRAINTS;
DROP TABLE PROMOTION CASCADE CONSTRAINTS;
DROP TABLE JOB_TYPE CASCADE CONSTRAINTS;
DROP TABLE REWARD_MEMBER_PROMOTION CASCADE CONSTRAINTS;
DROP TABLE DEPARTMENT CASCADE CONSTRAINTS;
DROP TABLE EMPLOYEE_TYPE CASCADE CONSTRAINTS;
DROP TABLE PROPERTY CASCADE CONSTRAINTS;
DROP TABLE RESERVATION CASCADE CONSTRAINTS;
DROP TABLE PROPERTY_LOCAL_ATTRACTION CASCADE CONSTRAINTS;
DROP TABLE LOCAL_ATTRACTION CASCADE CONSTRAINTS;
DROP TABLE BUSSINESS_PARTNER CASCADE CONSTRAINTS;
DROP TABLE PROPERTY_PARTNER CASCADE CONSTRAINTS;
DROP TABLE EMPLOYEE CASCADE CONSTRAINTS;
DROP TABLE TIME_CARD CASCADE CONSTRAINTS;
DROP TABLE EMPLOYEE_SALARY_HISTORY CASCADE CONSTRAINTS;
DROP TABLE ROOM_TYPE CASCADE CONSTRAINTS;
DROP TABLE PROPERTY_ROOM_TYPE CASCADE CONSTRAINTS;
DROP TABLE RATE_CODE CASCADE CONSTRAINTS;

-- The letter "C," which stands for "create" in the crud operation, is illustrated 
CREATE TABLE CUSTOMER(
CUST_ID VARCHAR(6) NOT NULL PRIMARY KEY,
CUST_FNAME VARCHAR(50) NOT NULL,
CUST_LNAME VARCHAR(50) NOT NULL,
CUST_PHONE_NUMBER VARCHAR(50) NOT NULL
)

CREATE TABLE CREDITCARD(
CREDITCARD_NUM VARCHAR(16) NOT NULL PRIMARY KEY,
CUST_ID VARCHAR(6) NOT NULL,
FOREIGN KEY(CUST_ID) REFERENCES CUSTOMER(CUST_ID),
CREDIT_CUST_FNAME VARCHAR(50) NOT NULL,
CREDIT_CARD_LNAME VARCHAR(50) NOT NULL,
CREDIT_TYPE VARCHAR(10) NOT NULL
)


CREATE TABLE FEED_BACK(
FEED_NUM VARCHAR(10) NOT NULL PRIMARY KEY,
CUST_ID VARCHAR(6) NOT NULL,
FOREIGN KEY(CUST_ID) REFERENCES CUSTOMER(CUST_ID),
FEEDBACK_FIRST_NAME VARCHAR(50) NOT NULL,
FEEDBACK_LAST_NAME VARCHAR(50) NOT NULL
)

CREATE TABLE MEMBER_LEVEL_TIER(
MEMBERSHIP_LEVEL VARCHAR(10) NOT NULL PRIMARY KEY,
MEMBERSHIP_TIER_POINTS INT,
MEMBERSHIP_NEXT_LEVEL_TIER_POINTS INT
)

CREATE TABLE REWARD_MEMBER(
REWARD_MEMBER_ID VARCHAR(10) NOT NULL PRIMARY KEY ,
CUST_ID VARCHAR(6) NOT NULL UNIQUE,
MEMBERSHIP_LEVEL VARCHAR(10) NOT NULL,
FOREIGN KEY(CUST_ID) REFERENCES CUSTOMER(CUST_ID),
FOREIGN KEY(MEMBERSHIP_LEVEL) REFERENCES MEMBER_LEVEL_TIER(MEMBERSHIP_LEVEL),
REWARD_MEMBER_NAME  VARCHAR(100) NOT NULL
)

CREATE TABLE PROMOTION(
PROMOTION_NUM VARCHAR(10) NOT NULL PRIMARY KEY,
PROMOTION_START_DATE DATE NOT NULL,
PROMOTION_TIER_LEVEL INT NOT NULL
)

CREATE TABLE REWARD_MEMBER_PROMOTION(
REWARD_MEMBER_ID VARCHAR(10)NOT NULL,
PROMOTION_NUM VARCHAR(10) NOT NULL,
PRIMARY KEY(REWARD_MEMBER_ID ,PROMOTION_NUM),
FOREIGN KEY(REWARD_MEMBER_ID) REFERENCES REWARD_MEMBER(REWARD_MEMBER_ID),
FOREIGN KEY(PROMOTION_NUM) REFERENCES PROMOTION(PROMOTION_NUM)
)
CREATE TABLE JOB_TYPE(
JOB_TYPE_ID VARCHAR(6) NOT NULL PRIMARY KEY,
JOB_TITLE VARCHAR(50) NOT NULL,
JOB_DESC VARCHAR(100) NOT NULL
 )

CREATE TABLE DEPARTMENT(
DEPARMENT_ID VARCHAR(6) NOT NULL PRIMARY KEY,
DEPARTMENT_NUM_EMPLOYEES INT NOT NULL,
DEPARMENT_NAME VARCHAR(100) NOT NULL

)

CREATE TABLE EMPLOYEE_TYPE(
EMPLOYEE_TYPE_ID VARCHAR(6) NOT NULL PRIMARY KEY,
EMPLOYEE_STATUS VARCHAR(10)
)
CREATE TABLE PROPERTY(
PROPERTY_ID VARCHAR(6) NOT NULL PRIMARY KEY,
PROPERTY_NAME VARCHAR(100) NOT NULL,
PROPERTY_LOCATION VARCHAR(100) NOT NULL,
PROPERTY_ZIP_CODE INT NOT NULL,
PROPERTY_NUM_ROOM INT NOT NULL
)

CREATE TABLE RESERVATION(
RESERVATION_ID VARCHAR(6) NOT NULL PRIMARY KEY,
CUST_ID VARCHAR(6) NOT NULL,
CREDITCARD_NUM VARCHAR(16) NOT NULL,
PROPERTY_ID VARCHAR(6) NOT NULL,
FOREIGN KEY(CUST_ID) REFERENCES CUSTOMER(CUST_ID),
FOREIGN KEY(CREDITCARD_NUM) REFERENCES CREDITCARD(CREDITCARD_NUM),
FOREIGN KEY(PROPERTY_ID) REFERENCES PROPERTY(PROPERTY_ID),
RESERVATION_NAME VARCHAR(100) NOT NULL,
RESERVATION_DATA DATE NOT NULL,
RESERVATION_TIME VARCHAR(20) NOT NULL
)

CREATE TABLE LOCAL_ATTRACTION(
ATTRACTION_ID VARCHAR(6) NOT NULL PRIMARY KEY,
LOCAL_ATTRACTION_NAME VARCHAR(200) NOT NULL,
LOCAL_ATTRACTION_ZIP_CODE VARCHAR(10) NOT NULL
)

CREATE TABLE PROPERTY_LOCAL_ATTRACTION(
ATTRACTION_ID VARCHAR(6) NOT NULL,
PROPERTY_ID VARCHAR(6) NOT NULL,
FOREIGN KEY (ATTRACTION_ID) REFERENCES LOCAL_ATTRACTION(ATTRACTION_ID),
FOREIGN KEY (PROPERTY_ID)REFERENCES PROPERTY(PROPERTY_ID)
)

CREATE TABLE BUSSINESS_PARTNER(
PARTNER_ID VARCHAR(6) NOT NULL PRIMARY KEY,
BUSSINESS_PARTNER_FNAME VARCHAR(50) NOT NULL,
BUSSINESS_PARTNER_LNAME VARCHAR(50) NOT NULL,
BUSSINESS_PARTNER_PHONE_NUMBER VARCHAR(20) NOT NULL
)

CREATE TABLE PROPERTY_PARTNER(
PROPERTY_ID VARCHAR(6) NOT NULL,
PARTNER_ID VARCHAR(6) NOT NULL,
FOREIGN KEY(PARTNER_ID) REFERENCES BUSSINESS_PARTNER(PARTNER_ID),
FOREIGN KEY(PROPERTY_ID) REFERENCES PROPERTY(PROPERTY_ID)
)
CREATE TABLE EMPLOYEE(
EMPLOYEE_ID VARCHAR(6) NOT NULL PRIMARY KEY ,
JOB_TYPE_ID VARCHAR(6) NOT NULL,
PROPERTY_ID VARCHAR(6) NOT NULL,
EMPLOYEE_TYPE_ID VARCHAR(6) NOT NULL,
FOREIGN KEY(JOB_TYPE_ID) REFERENCES JOB_TYPE(JOB_TYPE_ID) ON DELETE CASCADE,
FOREIGN KEY(PROPERTY_ID) REFERENCES PROPERTY(PROPERTY_ID) ON DELETE CASCADE,
FOREIGN KEY(EMPLOYEE_TYPE_ID) REFERENCES EMPLOYEE_TYPE(EMPLOYEE_TYPE_ID)ON DELETE CASCADE,
EMPLOYEE_FIRST_NAME VARCHAR(50) NOT NULL,
EMPLOYEE_LAST_NAME VARCHAR(50) NOT NULL,
EMPLOYEE_PHONE_NUMBER VARCHAR(20) NOT NULL
)
CREATE TABLE TIME_CARD(
TIME_CARD_NUM VARCHAR(6) NOT NULL PRIMARY KEY,
EMPLOYEE_ID VARCHAR(6) NOT NULL,
DEPARMENT_ID VARCHAR(6) NOT NULL,
PROPERTY_ID VARCHAR(6) NOT NULL,
FOREIGN KEY(PROPERTY_ID) REFERENCES PROPERTY(PROPERTY_ID) ON DELETE CASCADE,
FOREIGN KEY(EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID),
FOREIGN KEY(DEPARMENT_ID) REFERENCES DEPARTMENT(DEPARMENT_ID),
TIME_CARD_STARTING_TIME INT,
TIME_CARD_ENDING_TIME INT,
TIME_CARD_DATE DATE 
)
CREATE TABLE EMPLOYEE_SALARY_HISTORY(
EMPLOYEE_SALARY_HISTORY_ID VARCHAR(6) NOT NULL PRIMARY KEY,
EMPLOYEE_ID VARCHAR(6) NOT NULL,
PROPERTY_ID VARCHAR(6) NOT NULL,
FOREIGN KEY(PROPERTY_ID) REFERENCES PROPERTY(PROPERTY_ID),
FOREIGN KEY(EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID),
EMPLOYEE_SALARY_AMOUNT INT NOT NULL,
EMPLOYEE_SALARY_PERIOD VARCHAR(100)

)
CREATE TABLE ROOM_TYPE(
ROOM_TYPE_ID VARCHAR(6) NOT NULL PRIMARY KEY,
ROOM_SQFT INT NOT NULL,
ROOM_NUM_BED INT NOT NULL

)

CREATE TABLE PROPERTY_ROOM_TYPE(
ROOM_TYPE_ID VARCHAR(6) NOT NULL,
PROPERTY_ID VARCHAR(6) NOT NULL,
FOREIGN KEY(ROOM_TYPE_ID) REFERENCES ROOM_TYPE(ROOM_TYPE_ID),
FOREIGN KEY (PROPERTY_ID) REFERENCES PROPERTY(PROPERTY_ID),
PROPERTY_ROOM_TYPE INT NOT NULL
)

CREATE TABLE RATE_CODE(
ROOM_TYPE_ID VARCHAR(6) NOT NULL,
PROPERTY_ID VARCHAR(6) NOT NULL,
RATE_CODE_DATE   DATE NOT NULL,
PRIMARY KEY(ROOM_TYPE_ID,PROPERTY_ID,RATE_CODE_DATE),
FOREIGN KEY(ROOM_TYPE_ID) REFERENCES ROOM_TYPE(ROOM_TYPE_ID),
FOREIGN KEY(PROPERTY_ID)REFERENCES PROPERTY(PROPERTY_ID),
RATE_CODE_RATE INT NOT NULL
)






INSERT INTO PROPERTY VALUES ('BI5522', 'BATES INN','CALIFORNIA', 512321, 200);
INSERT INTO PROPERTY VALUES ('TL2121', 'TIMBERLINE LODGE','CALIFORNIA', 512121, 260);
INSERT INTO PROPERTY VALUES ('DI5211', 'DISTRICT INSIGHT','NEW YORK', 518211, 280);
INSERT INTO ROOM_TYPE VALUES('SR5121',200, 1);
INSERT INTO ROOM_TYPE VALUES('DR3212',250, 2);
INSERT INTO ROOM_TYPE VALUES('TR5121',350, 3);
INSERT INTO ROOM_TYPE VALUES('QR9121',450, 4);
INSERT INTO ROOM_TYPE VALUES('BR1354', 650, 7);

INSERT INTO PROPERTY_ROOM_TYPE VALUES('SR5121','BI5522',35);
INSERT INTO PROPERTY_ROOM_TYPE VALUES('DR3212','BI5522', 55);
INSERT INTO PROPERTY_ROOM_TYPE VALUES('TR5121','BI5522', 45);

INSERT INTO PROPERTY_ROOM_TYPE VALUES('DR3212','TL2121', 65);
INSERT INTO PROPERTY_ROOM_TYPE VALUES('SR5121','TL2121', 55);
INSERT INTO PROPERTY_ROOM_TYPE VALUES('TR5121','TL2121', 55);
INSERT INTO PROPERTY_ROOM_TYPE VALUES('QR9121','TL2121', 35);

INSERT INTO PROPERTY_ROOM_TYPE VALUES('SR5121','DI5211', 50);
INSERT INTO PROPERTY_ROOM_TYPE VALUES('DR3212','DI5211', 70);
INSERT INTO PROPERTY_ROOM_TYPE VALUES('TR5121','DI5211', 60);
INSERT INTO PROPERTY_ROOM_TYPE VALUES('QR9121','DI5211', 50);
INSERT INTO PROPERTY_ROOM_TYPE VALUES('BR1354','DI5211', 30);

INSERT INTO JOB_TYPE VALUES('CM1234','CREW MEMBER', 'DISHWASHER');
INSERT INTO JOB_TYPE VALUES('DM1234','DEPARMENT MANAGER', 'MANAGE');
INSERT INTO JOB_TYPE VALUES('WA5551','WAITER', 'GUEST WELCOMER');

INSERT INTO EMPLOYEE_TYPE VALUES('FT5321', 'FULL TIME');
INSERT INTO EMPLOYEE_TYPE VALUES('PT5321', 'PART TIME');
INSERT INTO EMPLOYEE_TYPE VALUES('PT1121', 'ONCALL');


INSERT INTO EMPLOYEE VALUES('DC7612','CM1234','BI5522','FT5321','DAN', 'CUBI','921321123' );
INSERT INTO EMPLOYEE VALUES('AH7112','DM1234','BI5522','FT5321','AMY', 'HANSON','943321123' );
INSERT INTO EMPLOYEE VALUES('SB7612','WA5551','DI5211','PT5321','SAN', 'BURT','92132555' );
INSERT INTO EMPLOYEE VALUES('MS7612','WA5551','TL2121','PT5321','MIA', 'SUNNY','321345789' );


INSERT INTO DEPARTMENT VALUES('HK2221',20, 'HOUSE KEEPING');
INSERT INTO DEPARTMENT VALUES('FO2221',10, 'FRONT OFFICE');

-- PLEASE RUN THE COMMAND BELOW BEFORE INSERTING REST OF THE DATA'S
ALTER SESSION SET NLS_DATE_FORMAT='YYYY-MM-DD'

INSERT INTO TIME_CARD VALUES('JH4312','DC7612','HK2221','BI5522' ,6, 3,'2020-12-25');
INSERT INTO TIME_CARD VALUES('AB5211','SB7612','FO2221','TL2121' ,7, 3,'2020-12-25');
INSERT INTO TIME_CARD VALUES('BC4112','AH7112','FO2221', 'DI5211',10, 11,'2020-12-22');
INSERT INTO TIME_CARD VALUES('VA4312','MS7612','HK2221','DI5211' ,9, 5,'2020-12-24');

INSERT INTO EMPLOYEE_SALARY_HISTORY VALUES('DC5555','DC7612','BI5522' ,3000,'2020-12-01 - 2020-12-30');
INSERT INTO EMPLOYEE_SALARY_HISTORY VALUES('AH4444','AH7112','TL2121' ,5000,'2020-12-01 - 2020-12-30');
INSERT INTO EMPLOYEE_SALARY_HISTORY VALUES('SB3333','SB7612','BI5522' ,2000,'2020-11-01 - 2020-11-22');
INSERT INTO EMPLOYEE_SALARY_HISTORY VALUES('MS9999','MS7612', 'TL2121' ,2500,'2020-12-01 - 2020-12-30');
INSERT INTO EMPLOYEE_SALARY_HISTORY VALUES('BH4444','AH7112','DI5211',4000,'2020-12-01 - 2020-12-30');

INSERT INTO CUSTOMER VALUES('HH1212','HANZO', 'HEYMEN', '221-222-2121');
INSERT INTO CUSTOMER VALUES('DM3211','DAMON', 'MAQUINN', '551-222-2121');
INSERT INTO CUSTOMER VALUES('JP1212','JAY', 'P', '221-112-2121');
INSERT INTO CUSTOMER VALUES('DW1212','DAWN', 'WHALES', '221-222-2121');
INSERT INTO CUSTOMER VALUES('SB1212','SAM', 'BURT', '551-122-2121');

INSERT INTO LOCAL_ATTRACTION VALUES ('BA3211', 'BATES GARDEN TOUR', '51221');
INSERT INTO LOCAL_ATTRACTION VALUES ('SG1111', 'SOUTH EAST TOWER', '71331');
INSERT INTO LOCAL_ATTRACTION VALUES ('SB5555', 'SOUTH BEACH', '21333');
INSERT INTO LOCAL_ATTRACTION VALUES ('SM3211', 'HERITAGE MUSEUM', '51221');
INSERT INTO LOCAL_ATTRACTION VALUES ('BG9011', 'BROWN GATES PARK', '32111');

INSERT INTO PROPERTY_LOCAL_ATTRACTION VALUES ('BA3211', 'BI5522');
INSERT INTO PROPERTY_LOCAL_ATTRACTION VALUES ('SM3211', 'BI5522');
INSERT INTO PROPERTY_LOCAL_ATTRACTION VALUES ('BG9011', 'TL2121');
INSERT INTO PROPERTY_LOCAL_ATTRACTION VALUES ('SB5555', 'DI5211');
INSERT INTO PROPERTY_LOCAL_ATTRACTION VALUES ('SG1111', 'DI5211');

INSERT INTO CREDITCARD VALUES ('1111-3111-5111','HH1212', 'HANZO', 'HEYMEN','DISCOVER');
INSERT INTO CREDITCARD VALUES ('2222-2222-3333','DM3211', 'DAMON','MAQUINN','DISCOVER');
INSERT INTO CREDITCARD VALUES ('1212-1313-1414','JP1212', 'JAY','P','DEBIT');
INSERT INTO CREDITCARD VALUES ('1515-1212-4444','DW1212', 'DAWN','WHALES','MASTERCARD');
INSERT INTO CREDITCARD VALUES ('1115-1112-4444','SB1212', 'SAM','BURT','MASTERCARD');

INSERT INTO RESERVATION VALUES('VA1231', 'HH1212', '1111-3111-5111', 'BI5522','HEYNMEN', '2020-08-22','7:00PM');
INSERT INTO RESERVATION VALUES('BA3211', 'DM3211', '2222-2222-3333', 'DI5211','DAMON', '2021-05-01','9:00PM');
INSERT INTO RESERVATION VALUES('AZ1131', 'JP1212', '1212-1313-1414', 'TL2121','JAY', '2021-03-10','11:00AM');
INSERT INTO RESERVATION VALUES('GH1431', 'DW1212', '1515-1212-4444', 'BI5522','WHALES', '2020-08-22','5:00PM');
INSERT INTO RESERVATION VALUES('BD124', 'SB1212', '1115-1112-4444', 'BI5522','BURT', '2020-08-22','5:00PM');
INSERT INTO RESERVATION VALUES('GH124', 'SB1212', '1115-1112-4444', 'TL2121','BURT', '2020-08-22','10:00PM');


INSERT INTO MEMBER_LEVEL_TIER VALUES('BRONZE+',500, 900);
INSERT INTO MEMBER_LEVEL_TIER VALUES('BRONZE-',300, 500);
INSERT INTO MEMBER_LEVEL_TIER VALUES('SILVER+',1100, 1400);

INSERT INTO REWARD_MEMBER VALUES ('BZ1231', 'HH1212', 'BRONZE+', 'HANZO  HEYMEN');
INSERT INTO REWARD_MEMBER VALUES ('AB1212', 'JP1212', 'SILVER+', 'JAY P');




-- Please run the query for "employee_type" below before executing this command, then perform the command and go back and run the query again to see the changes.
-- This is another another method for deleting a table column or columns. This is a CRUD operation as well.
DELETE FROM EMPLOYEE_TYPE
WHERE EMPLOYEE_TYPE_ID = 'PT1121' AND EMPLOYEE_STATUS = 'ONCALL';

--  run the business partner query, which should display 4 attributes. Following the execution of that query, go back and execute the following command below. 
--Then, go back and execute the query once more to check for updates. Now, there should be 5 attributes.
-- The Alter command does the "U" in CRUD. This adds a new attribute or modifies existing attributes for the table business partner.
ALTER TABLE BUSSINESS_PARTNER
ADD (PARTNER_EMAIL_ADDRESS VARCHAR(100));

SELECT*FROM EMPLOYEE_TYPE

SELECT*FROM BUSSINESS_PARTNER




---






















